{% extends "base.html" %}

{% load i18n crispy_forms_tags %}

{% block title %}
  {% trans "Actuals" %} | {{ block.super }}
{% endblock title %}
{% block extra_style %}
  <style>
h2 {
    background: color-mix(in srgb, var(--brand-color-alt) 20%, white);
  border-left: 5px solid var(--brand-color-alt);
    padding: 0.6rem 0.6rem;
  margin-top: 2rem;
  margin-bottom: 1rem;

}

h3 {
      margin: 1.5rem 0 1rem;
  color: var(--brand-color-alt);
}
@media print {

  table {
    width: 100%;
    border-collapse: collapse;
    table-layout: auto; /* autorise largeur selon contenu */
  }

  /* Colonnes numériques compactes et alignées à droite */
  table th:nth-child(n+3),
  table td:nth-child(n+3) {
    text-align: right;
    width: 12%;
  }

  /* Première colonne = largeur auto selon contenu */
  table th:first-child,
  table td:first-child {
    white-space: nowrap;
    width: 1%;
  }

  /* Deuxième colonne (désignation) prend le reste */
  table th:nth-child(2),
  table td:nth-child(2) {
    width: auto;
  }

  /* Colonnes numériques compactes et alignées à droite */
  table th:nth-child(n+3),
  table td:nth-child(n+3) {
    text-align: right;
    width: 12%;
  }
  td small {
  display: none
}
}

  </style>
{% endblock extra_style %}
{% block content %}
  <div class="no-print">
    <h1>{% trans "Accounts explorer" %}</h1>
    <form method="post"
          hx-post="{% url 'accounting:account-partial' %}"
          hx-target="#account-list"
          hx-swap="outerHTML"
          hx-trigger="change delay:300ms from:input, change from:select">
      {% crispy form %}
    </form>
    <hr />
  </div>
  <div id="account-list">{% include "accounting/partials/account_list.html" with grouped=grouped %}</div>
{% endblock content %}
